<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joc de Preguntes - T'estimo</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* ========================
           ESTILO MODIFICADO
        ======================== */

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #fafafa;
            color: #333;
            margin: 0;
        }

        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .game-info {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background-color: white;
            border-radius: 12px;
            max-width: 650px;
            width: 100%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
        }
        
        .game-info h2 {
            font-size: 1.8rem;
            color: #e91e63;
            margin-bottom: 10px;
        }
        
        .game-info p {
            margin-bottom: 15px;
            color: #555;
        }
        
        #start-game {
            padding: 12px 25px;
            background: linear-gradient(135deg, #ff7eb3, #ff758c);
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        #start-game:hover {
            background: linear-gradient(135deg, #ff5d9e, #ff4f81);
            transform: translateY(-2px);
        }
        
        .question-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            width: 90%;
            max-width: 650px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
            position: relative;
            transition: all 0.5s ease;
        }
        
        .question-number {
            font-size: 1rem;
            color: #999;
            margin-bottom: 10px;
        }
        
        .question-text {
            font-size: 1.3rem;
            font-weight: 500;
            margin-bottom: 20px;
            color: #222;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 100%;
        }
        
        .option-button {
            padding: 12px 18px;
            background-color: white;
            border: 2px solid #eee;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            text-align: left;
            transition: all 0.3s ease;
            color: #444;
        }
        
        .option-button:hover {
            background-color: #f9f9f9;
            border-color: #e91e63;
        }
        
        .option-button.correct {
            background-color: #e0f8e9;
            border-color: #4caf50;
            color: #2e7d32;
            pointer-events: none;
        }
        
        .option-button.incorrect {
            background-color: #ffe3e3;
            border-color: #f44336;
            color: #c62828;
            pointer-events: none;
        }
        
        .feedback {
            margin-top: 15px;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-size: 0.95rem;
            display: none;
        }
        
        .feedback.correct {
            background-color: #e0f8e9;
            color: #2e7d32;
            display: block;
        }
        
        .feedback.incorrect {
            background-color: #ffe3e3;
            color: #c62828;
            display: block;
        }
        
        .next-button {
            padding: 10px 20px;
            background: linear-gradient(135deg, #ff7eb3, #ff758c);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s ease;
            display: none;
        }
        
        .next-button:hover {
            background: linear-gradient(135deg, #ff5d9e, #ff4f81);
            transform: translateY(-2px);
        }
        
        .next-button.visible {
            display: inline-block;
        }
        
        .progress-container {
            width: 90%;
            max-width: 650px;
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #ff758c, #ff7eb3);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .score-display {
            font-size: 1rem;
            color: #e91e63;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .result-container {
            text-align: center;
            background: white;
            border-radius: 12px;
            padding: 25px;
            width: 90%;
            max-width: 650px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
            display: none;
        }
        
        .result-container h2 {
            color: #e91e63;
            margin-bottom: 15px;
        }
        
        .restart-button {
            padding: 10px 20px;
            background: linear-gradient(135deg, #ff7eb3, #ff758c);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s ease;
        }
        
        .restart-button:hover {
            background: linear-gradient(135deg, #ff5d9e, #ff4f81);
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .question-container {
                padding: 20px;
                width: 95%;
            }
            .question-text {
                font-size: 1.1rem;
            }
            .option-button {
                font-size: 0.95rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Joc de Preguntes <i class="fas fa-question-circle"></i></h1>
            <p class="subtitle">Un joc especial per a tu</p>
        </header>

        <div class="page-content">
            <a href="index.html" class="back-button"><i class="fas fa-arrow-left"></i> Tornar a l'inici</a>
            
            <div class="game-container">
                <div class="game-info">
                    <h2>Preguntes Només per nosaltres</h2>
                    <p>Un joc de 20 preguntes sobre nosaltres, els nostres moments especials i el nostre amor.</p>
                    <p>Cada resposta correcta et donarà punts. Espero que les encertis totes jj.</p>
                    <button id="start-game">Començar el Joc</button>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar"></div>
                </div>
                
                <div class="score-display">Puntuació: <span id="score">0</span></div>
                
                <div class="question-container" style="display: none;">
                    <div class="question-number">Pregunta <span id="current-question">1</span> de <span id="total-questions">20</span></div>
                    <div class="question-text" id="question-text"></div>
                    <div class="options-container" id="options-container"></div>
                    <div class="feedback" id="feedback"></div>
                    <button class="next-button" id="next-button">Següent Pregunta</button>
                </div>
                
                <div class="result-container" id="result-container">
                    <h2>Resultats Finals</h2>
                    <p>Has completat totes les preguntes!</p>
                    <p>La teva puntuació final és: <span id="final-score">0</span> de <span id="max-score">0</span></p>
                    <p id="result-message"></p>
                    <button class="restart-button" id="restart-button">Tornar a Jugar</button>
                </div>
            </div>
        </div>

        <footer>
            <p>Fet amb <i class="fas fa-heart"></i> per a tu</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements del DOM
            const startButton = document.getElementById('start-game');
            const questionContainer = document.querySelector('.question-container');
            const gameInfo = document.querySelector('.game-info');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const feedback = document.getElementById('feedback');
            const nextButton = document.getElementById('next-button');
            const currentQuestionSpan = document.getElementById('current-question');
            const totalQuestionsSpan = document.getElementById('total-questions');
            const scoreDisplay = document.getElementById('score');
            const progressBar = document.querySelector('.progress-bar');
            const resultContainer = document.getElementById('result-container');
            const finalScoreSpan = document.getElementById('final-score');
            const maxScoreSpan = document.getElementById('max-score');
            const resultMessage = document.getElementById('result-message');
            const restartButton = document.getElementById('restart-button');
            
            // Variables del joc
            let currentQuestion = 0;
            let score = 0;
            let questions = [
                {
                    question: "Com es diu l'animal peluudo i gordito que diem gat?",
                    options: [
                        "Duki",
                        "Fermín Lopez",
                        "Belén Esteban",
                        "Pablo"
                    ],
                    correctAnswer: 0,
                    explanation: "Es cert, el nostre petardo peludo es diu Duki jjs"
                },
                {
                    question: "Quin va ser el primer regal que et vaig fer?",
                    options: [
                        "Flors",
                        "Una polsera",
                        "Un anell",
                        "Una carta d'amor"
                    ],
                    correctAnswer: 2,
                    explanation: "Potser no sigui el primerissim regal que et vaig fer, pero sense dubte l'anell d'Enredados es el primer que recordo tan especial."
                },
                {
                    question: "On vam tenir la nostra primera cita?",
                    options: [
                        "A un mirador",
                        "En un restaurant italià",
                        "Al parc",
                        "A la platja"
                    ],
                    correctAnswer: 0,
                    explanation: "Cada cop que penso en aquell dia al mriador, em posso tant sensible: El millor dia de la meva vida que mai ovlidaré, el nostre primer petó."
                },
                {
                    question: "Quin és el nostre restaurant preferit o que més ens agrada anar?",
                    options: [
                        "1900",
                        "Kebab el amegos",
                        "Tagliatela",
                        "Mc Donald's"
                    ],
                    correctAnswer: 2,
                    explanation: "Tot i que potser últimament no és el que més ens agrada anar, el Tagliatela és el nostre restaurant preferit per excelencia, hem celebrat molts moments especilas. Sempre el tindré al meu cor."
                },
                {
                    question: "Que estic estudiant?",
                    options: [
                        "Montador de autobuses",
                        "Enginyeria infrotmàtica",
                        "Alguna frikada de porgamación",
                        "Break Dance"
                    ],
                    correctAnswer: 1,
                    explanation: "Hombre si se la sabe jjs. És una pregunta más chorra, era per recordar quan encara no sabies ni que estudiava, això era molt al principi, però encara em fa gràcia."
                },
                {
                    question: "Quina cançó consideres que és 'la nostra cançó'?",
                    options: [
                        "Iris - The Goo Goo Dolls",
                        "Paper Rings - Taylor Swift",
                        "Polaris - Saiko",
                        "Sunflowers - Post Malone"
                    ],
                    correctAnswer: 2,
                    explanation: "El dubte sempre serà entre Iris i Polaris, però no puc evitar pensar en que Polaris va ser l'inici de tot, i el carinyo que l'hi tinc, tot el que significa, crec que es mereix ser la resposta correcte."
                },
                {
                    question: "Quin es el cotxe dels nostres sominis?",
                    options: [
                        "Audi Q8",
                        "Mercedes-Benz GLA",
                        "BMW X6",
                        "Dacia Sandero"
                    ],
                    correctAnswer: 0,
                    explanation: "Mira que me regalen cualquiera JAJAJAJAJAJAJ (menos el Dacia). Ojalà algun dia amor, estem treballant molt per poder-ho aocnseguir, no et preocupis que ho farem. TEAMO."
                },
                {
                    question: "Quin és el meu major temor?",
                    options: [
                        "Les aranyes",
                        "Les altures",
                        "Perdre el teu amor",
                        "Fracassar en els meus objectius"
                    ],
                    correctAnswer: 2,
                    explanation: "No puc viure sense tu amor. El dia que em faltis, no tornaré mai a ser el mateix. Siusplau, no t'en vagis mai."
                },
                {
                    question: "Quina és la meva estació de l'any preferida?",
                    options: [
                        "Primavera",
                        "Estiu",
                        "Tardor",
                        "Hivern"
                    ],
                    correctAnswer: 1,
                    explanation: "M'encanta l'estiu, els dies llargs i les nits senceres amb tu jj."
                },
                {
                    question: "Quin és el NOSTRE color?",
                    options: [
                        "Blau",
                        "Verd",
                        "Vermell",
                        "Morat"
                    ],
                    correctAnswer: 3,
                    explanation: "Sempre ens he identificat amb el color morat, encara que sempre penso en tu quan veig el verd, es sens dubte el color que més t'identifica (a part del daurat jj)."
                },
                {
                    question: "Quin tipus de pel·lícules ens agraden més?",
                    options: [
                        "Comèdies romàntiques",
                        "Ciència ficció",
                        "Thrillers",
                        "Pel·lícules d'aventures"
                    ],
                    correctAnswer: 0,
                    explanation: "Hem vist moltes pel·lícules de comèdies romàntiques, hem vist bastantes, ultimament estem tirant més capa thriller, perà sempre penso en tu quan veig una pel·lícula romantica que haguem vist."
                },
                {
                    question: "Quin ha estat el millor viatge que hem fet junts?",
                    options: [
                        "Lloret",
                        "Florencia",
                        "Narbona",
                        "Andalucia"
                    ],
                    correctAnswer: 1,
                    explanation: "Res es compara amb Floréncia, sempre serà el més especial. Però tots son molt especials, tornaria amb tu on fos, els cops que fes falta."
                },
                {
                    question: "Quin personatje li vaig dir al teu pare que si era de Marvel?",
                    options: [
                        "Mandarín",
                        "Manekric",
                        "Mandalorian",
                        "Mamma Mia"
                    ],
                    correctAnswer: 2,
                    explanation: "Mira tu no sabes quina vergonya vaig sentir i segueixo sentint ara JAJAJAJAJJA. Estaba molt nerviós, i ho recordo com part de la nostra relació, mai ovlidaré el primer dia que vam sopar tots junts. Era senyal de que no estavem fent les coses per fer."
                },
                {
                    question: "Quin és el nostre plan idea?",
                    options: [
                        "El que sigui pero junts",
                        "Veure una série de thriller",
                        "Fer esport",
                        "Anar a fer un passeig a la platja"
                    ],
                    correctAnswer: 0,
                    explanation: "El que sigui, pero que sigui junts. Ens agrada anar variant, sobretot a l'estiu una mica. Encara que el que més fem es estar tranquils, el millor plan será qualsevol que estiguem junts parlant."
                },
                {
                    question: "Quin dia EXACTEMENT vam parlar del nostres sentiments per primer cop?",
                    options: [
                        "03/02/2023",
                        "04/02/2023",
                        "05/02/2023",
                        "10/02/2023"
                    ],
                    correctAnswer: 1,
                    explanation: "Realment es podria contar tant el 4 com el 5, ja que va ser la matinada del 5, però com que encara no habiem ni dormit i realment vam començar a parlar com a tal el 4, es podria contar com a valid."
                },
                {
                    question: "Quina diries que es la nostra serie preferida?",
                    options: [
                        "Aquí no hay quien viva",
                        "Friends",
                        "Stranger Things",
                        "El verano que me enamoré"
                    ],
                    correctAnswer: 0,
                    explanation: "Aquesta pot ser una mica trampa. ANHQV es sense dubte la série que més hem reproduit, però el carinyo que l'hi guardo a Friends es massa gran. Mai ovlidaré com em vaig possar a plorar com un nen quan la vam acabar. Gracies per fer-me veure-la jj."
                },
                {
                    question: "Què és el que més admirem de la nostra relació?",
                    options: [
                        "Les tonteries que fem",
                        "Les idees per fer plans",
                        "Els nostres amics",
                        "La capacitat d'escoltar-nos"
                    ],
                    correctAnswer: 3,
                    explanation: "Tot i que sempre no sigui tan façil dir-ho com fer-ho, la capacitat d'escoltar-nos és la cosa que més ens diferéncia de la resta. Sempre arribem a la matiexa conclussió, i encara que no sempre se'ns dongui bé, ho fem millor que la resta."
                },
                {
                    question: "Que és al que mé aspirem a la vida?",
                    options: [
                        "Tenir una casa gran",
                        "Viatjar pel món",
                        "Estar junts passi el que passi",
                        "Adoptar molts gats"
                    ],
                    correctAnswer: 2,
                    explanation: "Me gustan todas las opciones JAJAJAJAJJA. El més important és estar junts passi el que passi. Els plans poder canviar com facilment per molts motius, visquem on visquem, i les decissions que prenem, no farán que ens separi. De ninguna manera, la meva vida és amb tu."
                },
                {
                    question: "Quin es el mote per excelencia que ens deiem abans?",
                    options: [
                        "Pijo i Choni",
                        "Pija i Kani",
                        "Brocha i sense h",
                        "Trancas i Barrancas"
                    ],
                    correctAnswer: 0,
                    explanation: "Mare meva quins records. Encara que jo et tenia agregada com 'Sense ache' tal qual, pijo i choni era com ens referiem quasi sempre. Com quan et vaig comentar a la publicació aquella jjs."
                },
                {
                    question: "PREGUNTA OBRETA PER REFLEXIONAR: Que creus que hauría de fer o de dixar de fer, per ser millor per a tu?",
                    options: [
                        "A",
                        "B",
                        "C",
                        "D"
                    ],
                    correctAnswer: 3,
                    explanation: "Sigui el que sigui, faré el que faci falta per ser millor per a tu. T'estimo."
                }
            ];
            
            // Actualitzar el nombre total de preguntes
            totalQuestionsSpan.textContent = questions.length;
            maxScoreSpan.textContent = questions.length * 10;
            
            // Iniciar el joc
            startButton.addEventListener('click', startGame);
            nextButton.addEventListener('click', nextQuestion);
            restartButton.addEventListener('click', restartGame);
            
            function startGame() {
                gameInfo.style.display = 'none';
                questionContainer.style.display = 'block';
                currentQuestion = 0;
                score = 0;
                scoreDisplay.textContent = score;
                loadQuestion();
                updateProgressBar();
            }
            
            function loadQuestion() {
                const question = questions[currentQuestion];
                questionText.textContent = question.question;
                optionsContainer.innerHTML = '';
                feedback.className = 'feedback';
                feedback.textContent = '';
                nextButton.classList.remove('visible');
                
                // Crear els botons d'opcions
                question.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'option-button';
                    button.textContent = option;
                    button.dataset.index = index;
                    button.addEventListener('click', checkAnswer);
                    optionsContainer.appendChild(button);
                });
                
                // Actualitzar el número de pregunta actual
                currentQuestionSpan.textContent = currentQuestion + 1;
                
                // Afegir animació
                questionContainer.classList.remove('slide-out');
                questionContainer.classList.add('slide-in');
            }
            
            function checkAnswer(e) {
                const selectedIndex = parseInt(e.target.dataset.index);
                const question = questions[currentQuestion];
                const buttons = document.querySelectorAll('.option-button');
                
                // Desactivar tots els botons
                buttons.forEach(button => {
                    button.classList.add('disabled');
                });
                
                // Marcar la resposta correcta i incorrecta
                buttons[question.correctAnswer].classList.add('correct');
                
                if (selectedIndex === question.correctAnswer) {
                    // Resposta correcta
                    e.target.classList.add('correct');
                    feedback.className = 'feedback correct';
                    feedback.textContent = '¡Correcte! ' + question.explanation;
                    score += 10;
                    scoreDisplay.textContent = score;
                    createHearts(e.target);
                } else {
                    // Resposta incorrecta
                    e.target.classList.add('incorrect');
                    feedback.className = 'feedback incorrect';
                    feedback.textContent = 'No és correcte. ' + question.explanation;
                }
                
                // Mostrar el botó següent
                nextButton.classList.add('visible');
            }
            
            function nextQuestion() {
                questionContainer.classList.remove('slide-in');
                questionContainer.classList.add('slide-out');
                
                setTimeout(() => {
                    currentQuestion++;
                    
                    if (currentQuestion < questions.length) {
                        loadQuestion();
                        updateProgressBar();
                    } else {
                        showResults();
                    }
                }, 500);
            }
            
            function updateProgressBar() {
                const progress = (currentQuestion / questions.length) * 100;
                progressBar.style.width = progress + '%';
            }
            
            function showResults() {
                questionContainer.style.display = 'none';
                resultContainer.style.display = 'block';
                finalScoreSpan.textContent = score;
                
                // Missatge personalitzat segons la puntuació
                let message = '';
                const maxScore = questions.length * 10;
                const percentage = (score / maxScore) * 100;
                
                if (percentage === 100) {
                    message = 'Perfecte! Em coneixes completament! El nostre amor és increïble!';
                    createConfetti();
                } else if (percentage >= 80) {
                    message = 'Gairebé perfecte! Em coneixes molt bé. T\'estimo molt!';
                } else if (percentage >= 60) {
                    message = 'Molt bé! Tenim una connexió especial. Seguim coneixent-nos més!';
                } else if (percentage >= 40) {
                    message = 'No està malament! Encara tenim moltes coses per descobrir junts!';
                } else {
                    message = 'Tenim molt per aprendre l\'un de l\'altre. Això és només el començament!';
                }
                
                resultMessage.textContent = message;
            }
            
            function restartGame() {
                resultContainer.style.display = 'none';
                currentQuestion = 0;
                score = 0;
                scoreDisplay.textContent = score;
                loadQuestion();
                updateProgressBar();
                questionContainer.style.display = 'block';
            }
            
            function createHearts(element) {
                for (let i = 0; i < 5; i++) {
                    const heart = document.createElement('div');
                    heart.className = 'heart-animation';
                    heart.innerHTML = '<i class="fas fa-heart"></i>';
                    
                    // Posició aleatòria al voltant de l'element
                    const rect = element.getBoundingClientRect();
                    const gameContainerRect = document.querySelector('.game-container').getBoundingClientRect();
                    
                    const x = rect.left + Math.random() * rect.width - gameContainerRect.left;
                    const y = rect.top + Math.random() * rect.height - gameContainerRect.top;
                    
                    heart.style.left = x + 'px';
                    heart.style.top = y + 'px';
                    
                    document.querySelector('.game-container').appendChild(heart);
                    
                    // Eliminar el cor després de l'animació
                    setTimeout(() => {
                        heart.remove();
                    }, 2000);
                }
            }
            
            function createConfetti() {
                const container = document.querySelector('.game-container');
                const containerRect = container.getBoundingClientRect();
                
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    
                    // Colors aleatoris
                    const colors = ['#e91e63', '#ff9a8b', '#ffd1dc', '#f8e5ee', '#c2185b'];
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.backgroundColor = color;
                    
                    // Mida aleatòria
                    const size = Math.random() * 10 + 5;
                    confetti.style.width = size + 'px';
                    confetti.style.height = size + 'px';
                    
                    // Forma aleatòria
                    const shapes = ['circle', 'square', 'triangle'];
                    const shape = shapes[Math.floor(Math.random() * shapes.length)];
                    
                    if (shape === 'circle') {
                        confetti.style.borderRadius = '50%';
                    } else if (shape === 'triangle') {
                        confetti.style.width = '0';
                        confetti.style.height = '0';
                        confetti.style.backgroundColor = 'transparent';
                        confetti.style.borderLeft = size/2 + 'px solid transparent';
                        confetti.style.borderRight = size/2 + 'px solid transparent';
                        confetti.style.borderBottom = size + 'px solid ' + color;
                    }
                    
                    // Posició inicial aleatòria
                    const x = Math.random() * containerRect.width;
                    const y = -20;
                    
                    confetti.style.left = x + 'px';
                    confetti.style.top = y + 'px';
                    
                    // Animació personalitzada
                    const duration = Math.random() * 3 + 2;
                    const delay = Math.random() * 2;
                    
                    confetti.style.animation = `fall ${duration}s ease-in ${delay}s forwards`;
                    
                    // Afegir keyframes per a l'animació de caiguda
                    const styleSheet = document.styleSheets[0];
                    const keyframes = `
                        @keyframes fall {
                            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                            100% { transform: translateY(${containerRect.height}px) rotate(${Math.random() * 360}deg); opacity: 0; }
                        }
                    `;
                    
                    if (styleSheet.insertRule) {
                        styleSheet.insertRule(keyframes, styleSheet.cssRules.length);
                    } else if (styleSheet.addRule) {
                        styleSheet.addRule('@keyframes fall', keyframes);
                    }
                    
                    container.appendChild(confetti);
                    
                    // Eliminar el confeti després de l'animació
                    setTimeout(() => {
                        confetti.remove();
                    }, (duration + delay) * 1000);
                }
            }
        });
    </script>
</body>
</html>